This is the bonus version:
-busy loops are replaced with hardware timers instead

Type make in commandline to compile.
